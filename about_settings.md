
# 3. 詳細設定

[English](./en_about_settings.html)

コントロールパネルの`ホーム`タブで、`設定ウィンドウを開く`ボタンを押すと設定ウィンドウが開けます。

[![Setting Window](./images/about_settings/img01_010_setting_window.png)](./images/about_settings/img01_010_setting_window.png){: data-lightbox="img01_010"}

設定ウィンドウでは、コントロールパネルに表示していない調整用の機能をサポートしています。

* 3.1. `ウィンドウ`
    - キャラクター表示ウィンドウの制御
* 3.2. `モーション`
    - キャラクターの体型や動き方にあわせた調整
* 3.3. `レイアウト`
    - カメラ、キーボード、マウスパッド、ゲームパッドの配置
* 3.4. `ライト`
    - ライトとBloomの調整


## 3.1. ウィンドウ

`ウィンドウ`タブではキャラクター表示ウィンドウの背景が不透明なときの背景色や、最前面表示のオン・オフが切り替えられます。

`キャラ透明化の詳細`では、キャラクターを半透明化する条件を指定できます。デフォルトではキャラクター上にマウスポインターが乗ったとき半透明化します。これは、キャラ背後に何があるか見やすくするためです。`キャラの透明化レベル`を変更すれば透明化の基準を変更できます。v0.8.5以前と同じ挙動にしたい場合、レベル0の「つねに不透明」を用います。


また、Windowsのディスプレイ設定でスクリーンの解像度や配置を変更してキャラクターを見失ってしまった場合、`キャラクター位置のリセット`ボタンで復帰できることがあります。詳細は[4: トラブルシューティング](./troubleshooting.html)を参照下さい。

※v0.8.1ででは`ウィンドウ`の項目でキャラクターの表示位置を固定するためのメニューがありましたが、v0.8.1以降ではこの機能を廃止し、代わりに前回の表示位置をつねに保存するようになっています。

## 3.2. モーション

`モーション`タブではキャラクターの動き方や体型にかんする調整ができます。

[![Motion Tab](./images/about_settings/img01_018_motion_tab.png)](./images/about_settings/img01_018_motion_tab.png){: data-lightbox="img01_018"}

### 3.2.1. 顔・表情

上部の項目はコントロールパネルの`配信`タブで`顔・表情`に表示されているのと同じ機能です。

下部の`Funブレンドのデフォルト値[%]`は、キャラクターの表情をつねにやや笑顔に保つための設定値です。

大きくするほど基本の表情が笑顔になりますが、キャラクターによってはまばたきやリップシンクの動作と組み合わせたとき不自然になるため、その場合は小さな値にします。

その下の`眉毛(開いてカスタマイズ)`は、通常開く必要のない高度な機能です。独自に作成したVRMで眉毛をうまく動かしたい場合や、眉毛の動きが大きすぎたり、小さすぎたりする場合にカスタマイズします。

※ここをカスタマイズするにはVRMの表情を操作する「ブレンドシェイプ」の知識が必要です。もし詳しくない場合、[バーチャルキャストWikiの説明](https://virtualcast.jp/wiki/doku.php?id=%E3%83%A2%E3%83%87%E3%83%AB%E4%BD%9C%E6%88%90:%E3%83%96%E3%83%AC%E3%83%B3%E3%83%89%E3%82%B7%E3%82%A7%E3%82%A4%E3%83%97%E8%A8%AD%E5%AE%9A)に記載の`ブレンドシェイプの値設定`などをご覧下さい。

* `左眉上げ`: 左眉、あるいは両方の眉を上げるブレンドシェイプを指定します。
* `左眉下げ`: 左眉、あるいは両方の眉を下げるブレンドシェイプを指定します。
* 左右で別々のキーを使う: 右と左の眉が別々に動かせるモデルの場合、チェックをオンにします。
* `右眉上げ`: 右眉を上げるブレンドシェイプを指定します。
* `右眉下げ`: 右眉を下げるブレンドシェイプを指定します。
* `眉上げスケール [%]`と`眉下げスケール [%]`: 眉の上下の動きの大きさです。誇張したい場合は大きめの値を、大きくしすぎると不自然になる場合は小さめの値を指定します。



### 3.2.2. 腕・ひじ

腕やひじの動かし方を設定します。

`脇をしめる幅 [cm]`と`脇をしめる強さ [%]`は、キャラクターが脇をしめたまま動くためのパラメータです。

`脇をしめる幅 [cm]`は、キャラクターの腰が太い場合は大きくし、細い場合は小さくします。

`脇をしめる強さ [%]`は、脇をしっかりしめてほしい場合、大きくします。大きすぎる値を指定すると、腕が体にめり込みやすくなることに注意してください。

以下は、デフォルトの設定、脇をきつくしめる設定、脇を開いた設定の例です。

[![Arm Side Default](./images/about_settings/img01_020_arm_side_default.png)](./images/about_settings/img01_020_arm_side_default.png){: data-lightbox="img01_020"}

[![Arm Side Close](./images/about_settings/img01_030_arm_side_close.png)](./images/about_settings/img01_030_arm_side_close.png){: data-lightbox="img01_030"}

[![Arm Side Open](./images/about_settings/img01_040_arm_side_open.png)](./images/about_settings/img01_040_arm_side_open.png){: data-lightbox="img01_040"}

`補助ポインターを表示`では、`プレゼン風に右手を動かす`のチェックがオンのときにマウスポインターを強調するかどうかを設定します。

`プレゼン動作サイズ[%]`は、`プレゼン風に右手を動かす`のチェックがオンのときの指さし動作の大きさを指定します。

モニターサイズに比べてキャラクターが小さい場合、この値を小さくすることで、腕が伸びっぱなしになるのを防ぎます。

逆に、モニターに対してキャラクターが大きかったり、キャラの手元を指し示したいときは、この値を大きくします。

`プレゼン動作の最小半径[cm]`は、指さし動作中に右手が胴体にめり込まないためのパラメータです。

大きな値にすると手が体にめり込みにくくなりますが、手元を指しにくくなり、腕が伸びがちになります。


### 3.2.3. 手・指

手や指の長さと、打鍵動作の大きさを調整します。

タイピング中の手の位置が大きくずれてしまう場合や、手がキーボードから浮きすぎる場合、調整してみてください。

**Hint:** 自然な動きに調整したのち、わざと`(打鍵後)手の高さ調整[cm]`の値だけを大きくすることで、大げさにタイピング動作するようにできます。

[![Large Typing Motion](./images/about_settings/img01_045_large_type_motion.png)](./images/about_settings/img01_045_large_type_motion.png){: data-lightbox="img01_045"}


### 3.2.4. 待機モーション

待機モーションは呼吸動作に相当する動きです。

キャラクターによっては、動きを極端に大きくすると浮いて見えるかもしれません。


## 3.3. レイアウト

`レイアウト`タブではカメラ、キーボード、マウスパッド、ゲームパッドの配置を調整できます。

[![Layout Tab](./images/about_settings/img01_050_layout_tab.png)](./images/about_settings/img01_050_layout_tab.png){: data-lightbox="img01_050"}

### 3.3.1. カメラ

コントロールパネルの`配信`タブにある`カメラ`と同じ機能です。

### 3.3.2. キーボード・マウスパッド

キーボードやマウスパッドの大きさ、高さを変更できます。キャラクターの体格に応じてサイズを変更してください。

### 3.3.3. ゲームパッド

キーボード・マウスパッドと同じく、ゲームパッドの高さや大きさ、表示・非表示を設定できます。

また、ゲームパッドのスティックを傾けるとキャラクターも傾きます。動作を確認する場合、デフォルト設定のまま左スティックを動かしてみて下さい。

* `キャラ傾き入力`でキャラクターが傾くスティックの種類を変更できます。
* `傾く方向を反転`のチェックをオンにすると、スティック入力と逆方向にキャラクターが傾きます。

なお、デフォルトではゲームパッドのキャプチャが有効ですが、ゲームパッドを使わない場合で、かつVMagicMirrorのCPU消費を少しでも抑えたい場合は`ゲームパッド入力のキャプチャを有効化`をオフにします。


## 3.4. ライト

`ライト`タブでは光や影、Bloomについての設定を調節できます。

キャラクターに照明を当てるライトと影の向きは別々の設定になっています。

これは、キャラクターには上から光を当て、影は正面から当てるための仕組みです。


影の向きと奥行を調節すると、キャラクターとデスクトップ画面の距離感を変更することもできます。

デフォルト設定の影:

[![Default Depth Shadow](./images/about_settings/img01_070_shadow_depth_default.png)](./images/about_settings/img01_070_shadow_depth_default.png){: data-lightbox="img01_070"}

キャラと画面が離れているように見せるための調整例: 

[![Default Depth Shadow](./images/about_settings/img01_080_shadow_depth_look_far.png)](./images/about_settings/img01_080_shadow_depth_look_far.png){: data-lightbox="img01_080"}


※VRMのキャラクターは`Unlit`系統のシェーダーが使われていることがあります。その場合、ライトを調整しても見た目が変わらないことに注意してください。


## Sections

* [1: VMagicMirrorについて](./index.html)
* [2: 基本的な使い方](./get_started.html)
* 3: 詳細設定 (このページ)
* [4: トラブルシューティング](./troubleshooting.html)
* [Tips A: デスクトップマスコット化のための設定](./tips_desktop_mascot.html)
* [Tips B: プレゼンテーションでVMagicMirrorを使う](./tips_presentation.html)
* [Tips C: 前バージョン(v0.8.0以降)の設定を引き継ぐ](./tips_load_prev_setting.html)
* [License](./about_license.html)
* [Change Log](./changelog.html)
* [FAQ](./en_frequently_asked_questions.html)
